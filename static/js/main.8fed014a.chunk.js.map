{"version":3,"sources":["components/todo/hooks/useForm.js","components/todo/form.js","components/todo/context/appSettingsContext.js","components/todo/list.js","components/todo/hooks/useAjax.js","components/todo/todo-connected.js","components/todo/nav.js","app.js","index.js"],"names":["useForm","callback","useState","item","setItem","e","target","name","value","console","log","preventDefault","reset","TodoForm","props","sendTodo","handleInputChange","handleSubmit","Form","id","onSubmit","Group","controlId","Label","Control","data-testid","type","placeholder","onChange","defaultValue","min","max","Button","variant","AppSettingsContext","React","createContext","AppSettings","state","maxDisplay","sortMethod","hide","Provider","this","children","Component","TodoList","appSettingsContext","useContext","numPageCount","setNumPageCount","page","list","slice","nextList","setNextList","useEffect","calcPages","pageButtonArray","numPages","Math","ceil","length","i","push","key","onClick","nextPage","pageNumber","newPage","map","className","complete","toString","_id","handleComplete","text","assignee","handleDelete","axios","require","todoAPI","useAjax","setList","sort","a","b","_getTodoItems","get","then","response","results","data","catch","error","due","Date","post","difficulty","__v","savedItem","filter","url","put","listItem","delete","ToDo","_addItem","_toggleComplete","deleteItem","count","setCount","countString","document","title","setTitle","titleUpdate","NavBar","Navbar","bg","expand","Toggle","aria-controls","Collapse","Nav","Link","href","App","Main","rootElement","getElementById","ReactDOM","render"],"mappings":"mVAsBeA,EApBC,SAACC,GAAc,IAAD,EACJC,mBAAS,IADL,mBACrBC,EADqB,KACfC,EADe,KAiB5B,MAAO,CAdmB,SAAAC,GACxBD,EAAQ,2BAAKD,GAAN,kBAAaE,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,UAG1B,SAACH,GACpBI,QAAQC,IAAI,2BAA4BP,GACxCE,EAAEM,iBACFN,EAAEC,OAAOM,QAETX,EAASE,GAETC,EAAQ,KAG+BD,IC2C5BU,EAlDE,SAACC,GAAW,IAAD,IAiBgBd,GAE1C,SAAkBG,GAChBM,QAAQC,IAAI,kBAAmBP,GAC/BW,EAAMC,SAASZ,MArBS,mBAiBnBa,EAjBmB,KAiBAC,EAjBA,KAwB1B,OACA,oCACE,kBAACC,EAAA,EAAD,CAAMC,GAAG,OAAOC,SAAUH,GAC1B,wCACE,kBAACC,EAAA,EAAKG,MAAN,CAAYC,UAAU,kBACpB,kBAACJ,EAAA,EAAKK,MAAN,mBACA,kBAACL,EAAA,EAAKM,SAAN,GAAcC,cAAY,WAAWC,KAAK,OAAOC,YAAY,eAAepB,KAAK,QAAjF,4BAAoG,uBAApG,yBAAoIS,GAApI,KAEF,kBAACE,EAAA,EAAKG,MAAN,CAAYC,UAAU,qBACpB,kBAACJ,EAAA,EAAKK,MAAN,oBACA,kBAACL,EAAA,EAAKM,QAAN,CAAcC,cAAY,WAAWE,YAAY,gBAAgBD,KAAK,OAAOnB,KAAK,WAAWqB,SAAUZ,KAEvG,kBAACE,EAAA,EAAKG,MAAN,CAAYC,UAAU,kBAEpB,kBAACJ,EAAA,EAAKM,QAAN,CAAcC,cAAY,SAASC,KAAK,QAAQG,aAAa,IAAKC,IAAI,IAAIC,IAAI,IAAIxB,KAAK,aAAaqB,SAAUZ,KAElH,kBAACgB,EAAA,EAAD,CAAQP,cAAY,SAASQ,QAAQ,UAAUP,KAAK,UAApD,e,wCClDOQ,EAAqBC,IAAMC,gBAqBzBC,E,kDAlBb,WAAYvB,GAAO,IAAD,8BAChB,cAAMA,IACDwB,MAAM,CACTC,WAAY,EACZC,WAAY,OACZC,MAAM,GALQ,E,qDAUhB,OACE,kBAACP,EAAmBQ,SAApB,CAA6BlC,MAAOmC,KAAKL,OACtCK,KAAK7B,MAAM8B,c,GAbMT,IAAMU,WC2DjBC,EAzDE,SAAChC,GAEhB,IAAMiC,EAAqBC,qBAAWd,GAFZ,EAGchC,mBAAS,IAHvB,mBAGnB+C,EAHmB,KAGLC,EAHK,KAKtBC,EAAOrC,EAAMsC,KAAKC,MAAM,EAAGN,EAAmBR,YALxB,EAOMrC,mBAAS,IAPf,mBAOnBoD,EAPmB,KAOTC,EAPS,KAW1BC,qBAAU,WACRC,IACAF,EAAYJ,KACZ,CAACrC,EAAMsC,OAET,IAAMK,EAAY,WAGhB,IAFA,IAAIC,EAAkB,GAClBC,EAAWC,KAAKC,KAAM/C,EAAMsC,KAAKU,OAAUf,EAAmBR,YACzDwB,EAAI,EAAGA,GAAKJ,EAAUI,IAC7BL,EAAgBM,KAAK,4BAASC,IAAKF,EAAGxD,KAAMwD,EAAGG,QAASC,GAAnC,QAAmDJ,IAG1Eb,EAAgB,CAACQ,KAGbS,EAAW,SAAC9D,GAChB,IAAI+D,EAAa/D,EAAEC,OAAOC,KAEtB8D,EAAUvD,EAAMsC,KAAKC,OAAOe,EAAW,GAAGrB,EAAmBR,WAAYQ,EAAmBR,YAAc6B,EAAW,GAAGrB,EAAmBR,YAE/IgB,EAAYc,IAKd,OACE,oCACE,4BACGf,EAASgB,KAAI,SAAAnE,GAAI,OAChB,wBAAIsB,cAAY,YACd8C,UAAS,mBAAcpE,EAAKqE,SAASC,YACrCR,IAAK9D,EAAKuE,KAEV,0BAAMvD,GAAG,WAAW+C,QAAS,kBAAMpD,EAAM6D,eAAexE,EAAKuE,OAC1DvE,EAAKyE,KADR,OACkBzE,EAAK0E,UAEvB,4BAAQ1D,GAAG,eAAeO,KAAK,SAASwC,QAAS,kBAAMpD,EAAMgE,aAAa3E,EAAKuE,OAA/E,UAIR,6BAAMzB,K,sBCtDJ8B,EAAQC,EAAQ,IAEhBC,EAAU,8CAkFDC,EAhFC,WAEd,IAAMnC,EAAqBC,qBAAWd,GAFlB,EAGIhC,mBAAS,IAHb,mBAGbkD,EAHa,KAGP+B,EAHO,KAKpB3B,qBAAU,WAERJ,EAAKgC,MAAK,SAACC,EAAEC,GACX,OAAQD,EAAEtC,EAAmBP,YAAc8C,EAAEvC,EAAmBP,YAAc,GAAK,KAErF2C,EAAQ/B,MAGV,IA+CMmC,EAAgB,WACpBR,EAAMS,IAAIP,GACPQ,MAAK,SAAAC,GACJ,IAAIC,EAAUD,EAASE,KAAKD,QAC5BlF,QAAQC,IAAI,CAACiF,YACbR,EAAQQ,MAETE,MAAMpF,QAAQqF,QAGnB,MAAO,CACL1C,EA1De,SAACjD,GAEhBA,EAAK4F,IAAM,IAAIC,KACfjB,EAAMkB,KAAKhB,EAAS,CAClBJ,SAAU1E,EAAK0E,SACfL,UAAU,EACV0B,WAAY/F,EAAK+F,WACjBtB,KAAMzE,EAAKyE,KACXuB,IAAK,IAEJV,MAAK,SAAAC,GAEJ,IAAIU,EAAYV,EAASE,KAEzBT,EAAQ,GAAD,mBAAK/B,GAAL,CAAWgD,QAEnBP,MAAMpF,QAAQqF,QAcK,SAAA3E,GACtB,IAAIhB,EAAOiD,EAAKiD,QAAO,SAAAtC,GAAC,OAAIA,EAAEW,MAAQvD,KAAI,IAAM,GAChD,GAAIhB,EAAKuE,IAAK,CACZvE,EAAKqE,UAAYrE,EAAKqE,SACtB,IAAI8B,EAAG,UAAMrB,EAAN,YAAiB9D,GACxB4D,EAAMwB,IAAID,EAAI,CACZ9B,SAAUrE,EAAKqE,WAGdiB,MAAK,SAAAC,GACJjF,QAAQC,IAAI,CAACgF,aACbP,EAAQ/B,EAAKkB,KAAI,SAAAkC,GAAQ,OAAIA,EAAS9B,MAAQvE,EAAKuE,IAAMgB,EAASE,KAAOY,SAE1EX,MAAMpF,QAAQqF,SAxBF,SAAA3E,GAEjB,IADWiC,EAAKiD,QAAO,SAAAtC,GAAC,OAAIA,EAAEW,MAAQvD,KAAI,IAAM,IACvCuD,IAAK,CAEZ,IAAI4B,EAAG,UAAMrB,EAAN,YAAiB9D,GACxB4D,EAAM0B,OAAOH,GACVb,MAAK,kBAAKF,OACVM,MAAMpF,QAAQqF,SAoCnBP,IChBWmB,EAvDF,WAAO,IAAD,EAEoDxB,IAFpD,mBAEV9B,EAFU,KAEJuD,EAFI,KAEMC,EAFN,KAEuBC,EAFvB,KAEmCtB,EAFnC,KAIjB/B,oBAAU+B,EAAe,IAJR,MAQSrF,mBAAS,IARlB,mBAQV4G,EARU,KAQHC,EARG,KAcjBvD,qBALsB,WAEpB,IAAIwD,EAAY,aAAD,OAAe5D,EAAKiD,QAAO,SAAAlG,GAAI,OAAKA,EAAKqE,YAAUV,OAAnD,sBACfiD,EAASC,KAEc,CAAC5D,IAdT,MAgBSlD,mBAAS+G,SAASC,OAhB3B,mBAgBHC,GAhBG,WA4BjB,OAVA3D,qBAAW,WAET,IAAI4D,EAAY,SAAD,OAAWhE,EAAKiD,QAAO,SAAAlG,GAAI,OAAKA,EAAKqE,YAAUV,OAA/C,oBAAiEV,EAAKiD,QAAO,SAAAlG,GAAI,OAAIA,EAAKqE,YAAUV,QAGnH,OAFAqD,EAASC,GAEF,WACLH,SAASC,MAAQE,MAKnB,oCACE,gCACE,wBAAIjG,GAAG,WACJ2F,IAKL,6BAASvC,UAAU,QAEjB,6BACE,kBAAC,EAAD,CAAUxD,SAAU4F,KAGtB,6BACE,kBAAC,EAAD,CACEvD,KAAMA,EACNuB,eAAgBiC,EAChB9B,aAAc+B,Q,gBCpBXQ,EA7BA,SAACvG,GAGd,OACA,kBAACwG,EAAA,EAAD,CAAQC,GAAG,OAAOtF,QAAQ,OAAOuF,OAAO,MAEtC,kBAACF,EAAA,EAAOG,OAAR,CAAeC,gBAAc,qBAC7B,kBAACJ,EAAA,EAAOK,SAAR,CAAiBxG,GAAG,oBAClB,kBAACyG,EAAA,EAAD,CAAKrD,UAAU,WACb,kBAACqD,EAAA,EAAIC,KAAL,CAAUC,KAAK,SAAf,YCDOC,EAXH,WACV,OACI,oCACI,kBAAC,EAAD,MACF,kBAAC,EAAD,KACE,kBAAC,EAAD,SCNJC,EAAO,WACX,OAAO,kBAAC,EAAD,OAGHC,EAAchB,SAASiB,eAAe,QAC5CC,IAASC,OAAO,kBAAC,EAAD,MAAUH,K","file":"static/js/main.8fed014a.chunk.js","sourcesContent":["import { useState } from 'react';\n\nconst useForm = (callback) => {\n  const [item, setItem] = useState({});\n\n  const handleInputChange = e => {\n    setItem({ ...item, [e.target.name]: e.target.value } );\n  };\n\n  const handleSubmit = (e) => {\n    console.log('INSIDE HandleSubmit Hook', item);\n    e.preventDefault();\n    e.target.reset();\n    // props.sendTodo(item);\n    callback(item);\n    // const item = {};\n    setItem({});\n  };\n\n  return [handleInputChange, handleSubmit, item]\n}\n\nexport default useForm;","\nimport React from 'react';\n// import Navbar from 'react-bootstrap/Navbar';\n// import Nav from 'react-bootstrap/Nav';\nimport Form from 'react-bootstrap/Form';\n// import FormControl from 'react-bootstrap/FormControl';\nimport Button from 'react-bootstrap/Button';\n// import NavDropdown from 'react-bootstrap/NavDropdown';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './form.scss';\nimport useForm from './hooks/useForm.js'\n\nconst TodoForm = (props) => {\n\n  // const [item, setItem] = useState({});\n\n  // const handleInputChange = e => {\n  //   setItem({ ...item, [e.target.name]: e.target.value } );\n  // };\n\n  // const handleSubmit = (e) => {\n  //   e.preventDefault();\n  //   e.target.reset();\n  //   props.sendTodo(item);\n  //   // const item = {};\n  //   setItem({});\n  // };\n\n  // const [formData, setFormData] = useState({});\n  const [handleInputChange, handleSubmit] = useForm(sendItem);\n\n  function sendItem(item){\n    console.log('INSIDE todoItem', item);\n    props.sendTodo(item);\n  }\n\n  return (\n  <>\n    <Form id=\"form\" onSubmit={handleSubmit}>\n    <h3>Add Item</h3>\n      <Form.Group controlId=\"formGroupEmail\">\n        <Form.Label>To Do Item</Form.Label>\n        <Form.Control data-testid='todoItem' type=\"text\" placeholder=\"Item Details\" name=\"text\" placeholder=\"Add To Do List Item\" onChange={handleInputChange}/>\n      </Form.Group>\n      <Form.Group controlId=\"formGroupPassword\">\n        <Form.Label>Assigned To</Form.Label>\n        <Form.Control data-testid='assignee' placeholder=\"Assignee Name\" type=\"text\" name=\"assignee\" onChange={handleInputChange}/>\n      </Form.Group>\n        <Form.Group controlId=\"formBasicRange\">\n          {/* <Form.Label>Difficulty Rating</Form.Label> */}\n          <Form.Control data-testid='slider' type=\"range\" defaultValue=\"1\"  min=\"1\" max=\"5\" name=\"difficulty\" onChange={handleInputChange}/>\n        </Form.Group>\n      <Button data-testid='submit' variant=\"primary\" type=\"submit\">\n      Add Item\n      </Button>\n      \n    </Form>\n  </>\n  );\n  \n}\n\nexport default TodoForm;\n","import React, {setState, useState} from 'react';\n\nexport const AppSettingsContext = React.createContext();\n\nclass AppSettings extends React.Component{\n  constructor(props){\n    super(props);\n    this.state={\n      maxDisplay: 4,\n      sortMethod: 'text',\n      hide: true,\n    }\n  }\n\n  render(){\n    return (\n      <AppSettingsContext.Provider value={this.state}>\n        {this.props.children}\n      </AppSettingsContext.Provider>\n    )\n  }\n}\n\nexport default AppSettings;","import React, {useContext, useEffect, useState} from 'react';\n// import { ListGroup } from 'react-bootstrap';\nimport './list.scss';\nimport { AppSettingsContext } from './context/appSettingsContext.js';\n// import { setState } from 'react-jsonschema-form/lib/utils';\n\nconst TodoList = (props) => {\n\n  const appSettingsContext = useContext(AppSettingsContext);\n  const [numPageCount, setNumPageCount] = useState([]);\n  \n  let page = props.list.slice(0, appSettingsContext.maxDisplay);\n  \n  const [nextList, setNextList] = useState([]);\n\n  // console.log('props.list ', props.list);\n  \n  useEffect(()=>{\n    calcPages();\n    setNextList(page);\n  },[props.list]);\n\n  const calcPages = () => {\n    let pageButtonArray = [];\n    let numPages = Math.ceil((props.list.length) / appSettingsContext.maxDisplay);\n    for (let i = 1; i <= numPages; i++){\n      pageButtonArray.push(<button  key={i} name={i} onClick={nextPage}>Page {i}</button>);\n    }\n    // console.log('calcPages ', numPages);\n    setNumPageCount([pageButtonArray]);\n  }\n \n  const nextPage = (e) => {\n    let pageNumber = e.target.name;\n\n    let newPage = props.list.slice((pageNumber-1)*appSettingsContext.maxDisplay, appSettingsContext.maxDisplay + (pageNumber-1)*appSettingsContext.maxDisplay);\n\n    setNextList(newPage);\n    // console.log('page ', page);\n  }\n\n  \n  return (\n    <>\n      <ul>\n        {nextList.map(item => (\n          <li data-testid=\"list-item\"\n            className={`complete-${item.complete.toString()}`}\n            key={item._id}\n          >\n            <span id=\"listSpan\" onClick={() => props.handleComplete(item._id)}>\n              {item.text} -- {item.assignee}\n            </span>\n            <button id=\"deleteButton\" type=\"submit\" onClick={() => props.handleDelete(item._id)}>X</button> \n          </li>\n        ))}\n      </ul> \n    <div>{numPageCount}</div>\n    </>\n  );\n  \n}\n\nexport default TodoList;\n\n//return(\n//   <Container>\n//     <ListGroup as=\"ul\">\n//       {props.list}\n//       <ListGroup as=\"li\">\n//         <span></span>\n\n//       </ListGroup>\n//     </ListGroup>\n//   </Container>\n// )","import { useState, useContext, useEffect } from 'react';\nimport { AppSettingsContext } from '../context/appSettingsContext.js';\n\nconst axios = require('axios');\n\nconst todoAPI = 'https://api-js401.herokuapp.com/api/v1/todo';\n\nconst useAjax = () => {\n\n  const appSettingsContext = useContext(AppSettingsContext);\n  const [list, setList] = useState([]);\n\n  useEffect(()=>{ //THIS IS WORKING EXCEPT ON THE ORIGINAL RENDER??\n    // console.log({list});\n    list.sort((a,b) => {\n      return (a[appSettingsContext.sortMethod] > b[appSettingsContext.sortMethod])? 1 : -1;\n    })\n    setList(list);\n  });\n\n  const _addItem = (item) => {\n    // console.log('ITEM @ _addItem: ', item);\n    item.due = new Date();\n    axios.post(todoAPI, {\n      assignee: item.assignee,\n      complete: false,\n      difficulty: item.difficulty,\n      text: item.text,\n      __v: 0,\n    })\n      .then(response => {\n        // console.log(response.data);\n        let savedItem = response.data;\n        // console.log({savedItem});\n        setList([...list, savedItem])\n      })\n      .catch(console.error);\n  };\n\n  const deleteItem = id => {\n    let item = list.filter(i => i._id === id)[0] || {};\n    if (item._id) {\n      // item.complete = !item.complete;\n      let url = `${todoAPI}/${id}`;\n      axios.delete(url)\n        .then(()=> _getTodoItems())\n        .catch(console.error);\n    }\n  };\n\n  const _toggleComplete = id => {\n    let item = list.filter(i => i._id === id)[0] || {};\n    if (item._id) {\n      item.complete = !item.complete;\n      let url = `${todoAPI}/${id}`;\n      axios.put(url,{\n        complete: item.complete\n        }\n      )\n        .then(response => {\n          console.log({response});\n          setList(list.map(listItem => listItem._id === item._id ? response.data : listItem));\n        })\n        .catch(console.error);\n    }\n  };\n\n  const _getTodoItems = () => {\n    axios.get(todoAPI)\n      .then(response => {\n        let results = response.data.results;\n        console.log({results});\n        setList(results);\n      })\n      .catch(console.error);\n  };\n\n  return [\n    list,\n    _addItem,\n    _toggleComplete,\n    deleteItem,\n    _getTodoItems\n  ]\n\n}\n\nexport default useAjax;","import React, { useEffect, useState } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\n// import NavBar from './nav';\nimport './todo-connected.scss';\nimport './todo.scss';\n// const axios = require('axios');\nimport useAjax from './hooks/useAjax.js';\n\n// const todoAPI = 'https://api-js401.herokuapp.com/api/v1/todo';\n\nconst ToDo = () => {\n\n  const [list, _addItem, _toggleComplete, deleteItem, _getTodoItems] = useAjax();\n\n  useEffect(_getTodoItems, []);\n\n  //// useEffect to update list count\n\n  const [count, setCount] = useState([]);\n  const countFunction = () => {\n\n    let countString= `There are ${list.filter(item => !item.complete).length} Items To Complete`\n    setCount(countString);\n  } \n  useEffect(countFunction, [list]);\n\n  const [title, setTitle] = useState(document.title);\n\n  useEffect (() => {\n\n    let titleUpdate= `Todo: ${list.filter(item => !item.complete).length} / Done: ${list.filter(item => item.complete).length}`\n    setTitle(titleUpdate);\n\n    return () => {\n      document.title = titleUpdate;\n    }\n  }) //may need `[list]` here to prevent too many renders\n\n  return (\n    <>\n      <header>\n        <h2 id=\"countH2\">\n          {count}\n          {/* There are {list.filter(item => !item.complete).length} Items To Complete */}\n        </h2>\n      </header>\n\n      <section className=\"todo\">\n\n        <div>\n          <TodoForm sendTodo={_addItem} />\n        </div>\n\n        <div>\n          <TodoList\n            list={list}\n            handleComplete={_toggleComplete}\n            handleDelete={deleteItem}\n          />\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default ToDo;\n","import React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\n// import Form from 'react-bootstrap/Form';\n// import FormControl from 'react-bootstrap/FormControl';\n// import Button from 'react-bootstrap/Button';\n// import NavDropdown from 'react-bootstrap/NavDropdown';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst NavBar = (props) => {\n\n  \n  return (\n  <Navbar bg=\"dark\" variant=\"dark\" expand=\"sm\">\n    {/* <Navbar.Brand href=\"#home\">To Do</Navbar.Brand> */}\n    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n    <Navbar.Collapse id=\"basic-navbar-nav\">\n      <Nav className=\"mr-auto\">\n        <Nav.Link href=\"#home\">Home</Nav.Link>\n        {/* <Nav.Link href=\"#link\">Link</Nav.Link>\n        <NavDropdown title=\"Dropdown\" id=\"basic-nav-dropdown\">\n          <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\n          <NavDropdown.Item href=\"#action/3.2\">Another action</NavDropdown.Item>\n          <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\n          <NavDropdown.Divider />\n          <NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>\n        </NavDropdown> */}\n      </Nav>\n      {/* <Form inline>\n        <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" />\n        <Button variant=\"outline-success\">Search</Button>\n      </Form> */}\n    </Navbar.Collapse>\n  </Navbar>\n  );\n  \n}\n\nexport default NavBar;","import React from 'react';\n\nimport ToDo from './components/todo/todo-connected.js';\nimport NavBar from './components/todo/nav.js';\nimport AppSettingsContext from './components/todo/context/appSettingsContext.js';\n\nconst App = () => {\n  return (\n      <>\n          <NavBar />\n        <AppSettingsContext>\n          <ToDo />\n        </AppSettingsContext>\n      </>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nconst Main = () => {\n  return <App />;\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}