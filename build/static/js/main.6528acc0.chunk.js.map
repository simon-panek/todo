{"version":3,"sources":["components/todo/hooks/useForm.js","components/todo/form.js","components/todo/context/appSettingsContext.js","components/todo/context/loginContext.js","components/todo/signUp.js","components/todo/auth.js","components/todo/list.js","components/todo/hooks/useAjax.js","components/todo/todo-connected.js","components/todo/login.js","components/todo/nav.js","app.js","index.js"],"names":["useForm","callback","useState","item","setItem","e","target","name","value","console","log","preventDefault","reset","TodoForm","props","sendTodo","handleInputChange","handleSubmit","Form","id","onSubmit","Group","controlId","Label","Control","data-testid","type","placeholder","onChange","defaultValue","min","max","Button","variant","AppSettingsContext","React","createContext","AppSettings","state","maxDisplay","sortMethod","hide","Provider","this","children","Component","LoginContext","LoginProvider","user","setUser","loggedIn","setLoggedIn","useEffect","cookie","load","token","validateToken","jwt","verify","process","setLogInState","save","login","username","password","fetch","method","mode","cache","headers","Headers","btoa","then","response","json","axios","require","Login","userName","setUserName","setPassword","email","setEmail","role","setRole","loginContext","useContext","handleFormSubmit","a","signUp","post","data","onBlur","Auth","okToRender","setOKToRender","capabilities","capability","includes","TodoList","appSettingsContext","numPageCount","setNumPageCount","nextList","setNextList","renderSignUp","setRenderSignUp","page","list","slice","calcPages","signedUpCookie","pageButtonArray","numPages","Math","ceil","length","i","push","key","onClick","nextPage","pageNumber","newPage","map","className","complete","toString","_id","handleComplete","text","assignee","handleDelete","todoAPI","useAjax","setList","sort","b","defaults","common","_getTodoItems","get","results","catch","error","due","Date","difficulty","__v","savedItem","filter","url","put","listItem","delete","ToDo","_addItem","_toggleComplete","deleteItem","count","setCount","countString","document","title","setTitle","titleUpdate","returningUser","setReturningUser","NavBar","Navbar","bg","expand","Toggle","aria-controls","Collapse","Nav","Link","href","App","Main","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.6528acc0.chunk.js","sourcesContent":["import { useState } from 'react';\n\nconst useForm = (callback) => {\n  const [item, setItem] = useState({});\n\n  const handleInputChange = e => {\n    setItem({ ...item, [e.target.name]: e.target.value } );\n  };\n\n  const handleSubmit = (e) => {\n    console.log('INSIDE HandleSubmit Hook', item);\n    e.preventDefault();\n    e.target.reset();\n    // props.sendTodo(item);\n    callback(item);\n    // const item = {};\n    setItem({});\n  };\n\n  return [handleInputChange, handleSubmit, item]\n}\n\nexport default useForm;","\nimport React from 'react';\n// import Navbar from 'react-bootstrap/Navbar';\n// import Nav from 'react-bootstrap/Nav';\nimport Form from 'react-bootstrap/Form';\n// import FormControl from 'react-bootstrap/FormControl';\nimport Button from 'react-bootstrap/Button';\n// import NavDropdown from 'react-bootstrap/NavDropdown';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './form.scss';\nimport useForm from './hooks/useForm.js'\n\nconst TodoForm = (props) => {\n\n  // const [item, setItem] = useState({});\n\n  // const handleInputChange = e => {\n  //   setItem({ ...item, [e.target.name]: e.target.value } );\n  // };\n\n  // const handleSubmit = (e) => {\n  //   e.preventDefault();\n  //   e.target.reset();\n  //   props.sendTodo(item);\n  //   // const item = {};\n  //   setItem({});\n  // };\n\n  // const [formData, setFormData] = useState({});\n  const [handleInputChange, handleSubmit] = useForm(sendItem);\n\n  function sendItem(item){\n    console.log('INSIDE todoItem', item);\n    props.sendTodo(item);\n  }\n\n  return (\n  <>\n    <Form id=\"form\" onSubmit={handleSubmit}>\n    <h3>Add Item</h3>\n      <Form.Group controlId=\"formGroupEmail\">\n        <Form.Label>To Do Item</Form.Label>\n        <Form.Control data-testid='todoItem' type=\"text\" placeholder=\"Item Details\" name=\"text\" placeholder=\"Add To Do List Item\" onChange={handleInputChange}/>\n      </Form.Group>\n      <Form.Group controlId=\"formGroupPassword\">\n        <Form.Label>Assigned To</Form.Label>\n        <Form.Control data-testid='assignee' placeholder=\"Assignee Name\" type=\"text\" name=\"assignee\" onChange={handleInputChange}/>\n      </Form.Group>\n        <Form.Group controlId=\"formBasicRange\">\n          {/* <Form.Label>Difficulty Rating</Form.Label> */}\n          <Form.Control data-testid='slider' type=\"range\" defaultValue=\"1\"  min=\"1\" max=\"5\" name=\"difficulty\" onChange={handleInputChange}/>\n        </Form.Group>\n      <Button data-testid='submit' variant=\"primary\" type=\"submit\">\n      Add Item\n      </Button>\n      \n    </Form>\n  </>\n  );\n  \n}\n\nexport default TodoForm;\n","import React, {setState, useState} from 'react';\n\nexport const AppSettingsContext = React.createContext();\n\nclass AppSettings extends React.Component{\n  constructor(props){\n    super(props);\n    this.state={\n      maxDisplay: 4,\n      sortMethod: 'assignee',\n      hide: true,\n    }\n  }\n\n  render(){\n    return (\n      <AppSettingsContext.Provider value={this.state}>\n        {this.props.children}\n      </AppSettingsContext.Provider>\n    )\n  }\n}\n\nexport default AppSettings;","import React, { useEffect, useState } from 'react';\nimport jwt from 'jsonwebtoken';\nimport cookie from 'react-cookies';\n// import axios from 'axios';\n\n// const API = process.env.REACT_APP_API;\n// const API = 'https://dina-auth-api.herokuapp.com'; //Dina's API\nconst API = 'https://simonpanek-auth-api.herokuapp.com'; //Simon's API\n// REACT_APP_API=https://auth-server-401d39.herokuapp.com <-- Class provided\n// Auth API Route=https://simonpanek-auth-api.herokuapp.com/\n//https://dina-auth-api.herokuapp.com/signin user: dina  pass: potatoes admin secret = twtse345dgw3541\n\n\nexport const LoginContext = React.createContext();\n\nfunction LoginProvider(props){\n  const [user, setUser] = useState({});\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  const login = (username, password) => {\n    fetch(`${API}/signin`, {\n      method: 'post',\n      mode: 'cors', \n      cache: 'no-cache',\n      headers: new Headers({\n        'Authorization': `Basic ${btoa(`${username}:${password}`)}`\n      }),\n    })\n    .then(response => {\n      // console.log('response from server', response);\n      return response.json();\n    })\n    .then(user => {\n      console.log('user.token', user.token);\n      validateToken(user.token);\n    })\n  }\n\n  //User Info after login to Simon's API\n//   {user: {…}, token: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZ…yNDN9.IJnv4E3J0YRlsMyUCnWxubelbXHtg6cobw36hqiNbwY\"}\n// token: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6InNpbW9uOTkiLCJpYXQiOjE2MTEyOTkyNDN9.IJnv4E3J0YRlsMyUCnWxubelbXHtg6cobw36hqiNbwY\"\n// user: {role: \"admin\", _id: \"600a1ce173a5700017ffa5c5\", username: \"simon99\", password: \"$2b$10$14tPdkZ3QTjkJJnX918nrOFkrS7Ip/lDEK.oYCS3KbtEUR8Knp9Sm\", __v: 0, …}\n// __proto__: Object\n\n\n  // User Info After login to Dina's API\n  // {user: {role: \"admin\", _id: \"600a560efe5f030017267dc1\", username: \"dina\",…},…}\n  // token: \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImRpbmEiLCJpYXQiOjE2MTEyOTg5MDh9.2hpDai8q74s_Uf1eLFPbJ6sQ0OrNS4HFkXNrzHeexTE\"\n  // user: {role: \"admin\", _id: \"600a560efe5f030017267dc1\", username: \"dina\",…}\n  //\n\n  useEffect(()=>{\n    if(cookie.load('auth')){\n      let token = cookie.load('auth');\n      validateToken(token);\n    }\n  },[])\n\n  const validateToken = (token) => {\n    try {\n      console.log('IN Validate Token ', {token});\n      let user = jwt.verify(token, process.env.REACT_APP_SECRET) //class secret: Banana | Auth API secret: goldfish\n      console.log('user2', {user})\n      setLogInState(true,token,user);\n    } catch {\n      setLogInState(false, null, {});\n      console.log('IN CATCH, THIS IS BAD')\n    }\n  }\n\n  \n  const setLogInState = (loggedIn, token, user) => {\n    cookie.save('auth', token);\n    setLoggedIn(true);\n    setUser(user);\n  }\n  \n  const state = {\n    user,\n    loggedIn,\n    login: login\n  }\n  console.log('LOGINCONTEXT ', {loggedIn}); //This is true after signin, but after refreshing page to rerender it is no longer true\n\n  return(\n    <LoginContext.Provider value={state}>\n      {props.children}\n    </LoginContext.Provider>\n  )\n}\n\nexport default LoginProvider;","import React, {useContext, useState} from 'react';\nimport { LoginContext } from './context/loginContext.js';\nimport cookie from 'react-cookies';\nconst axios = require('axios');\n\nfunction Login(props) {\n  const [userName, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [role, setRole] = useState('user');\n\n  const loginContext = useContext(LoginContext);\n\n  const handleFormSubmit = async (e) => { //send username and pword to context\n    e.preventDefault();\n    await signUp(userName, password, role);\n    cookie.save('signedUp', true);\n    // console.log('HANDLE SUBMIT ', {userName}, {password}, {email}, {role})\n    loginContext.login(userName, password, email);\n  }\n\n  const handleNameChange = (e) => { //updates userName state on change of input field\n    setUserName(e.target.value);\n  }\n\n  const handlePasswordChange = (e) => { //updates password state on change of input field\n    setPassword(e.target.value);\n  }\n\n  const handleEmailChange = (e) => { //updates password state on change of input field\n    setEmail(e.target.value);\n  }\n\n  const handleRoleChange = (e) => { //updates password state on change of input field\n    setRole(e.target.value);\n  }\n\n  // const todoAPI = 'https://simonpanek-auth-api.herokuapp.com'; //<-- Auth API\n\n  const signUp = (username, password, role) => {\n    axios.post('https://simonpanek-auth-api.herokuapp.com/signup',{\n      username: username,\n      password: password,\n      role: role\n      }\n    )\n    .then(response => {\n      console.log('response from signup server', response.data);\n    })\n  }\n\n  // console.log({userName}, {password}, {email}, {role});\n\n  return(\n    <form onSubmit={handleFormSubmit}>\n      <input onBlur={handleNameChange} type=\"text\" name=\"name\" placeholder=\"Name\"/>\n      <input onBlur={handlePasswordChange} type=\"password\" name=\"password\" placeholder=\"Password\"/>\n      <input onBlur={handleEmailChange} type=\"email\" name=\"email\" placeholder=\"Email\"/>\n      <label>Role</label>\n      <select onChange={handleRoleChange}>\n        <option value=\"user\">\"user\"</option>\n        <option value=\"editor\">\"editor\"</option>\n        <option value=\"admin\">\"admin\"</option>\n      </select>\n      <button>Enter</button>\n    </form>\n  )\n}\n\nexport default Login;","import React, { useEffect, useState, useContext } from 'react';\nimport {LoginContext} from './context/loginContext.js';\n\nfunction Auth(props) {\n  const loginContext = useContext(LoginContext);\n  \n  const [okToRender, setOKToRender] = useState(false);\n\n  useEffect(() => {\n    console.log('loginContex.loggedIn ', loginContext.loggedIn);\n    console.log('loginContext.user.capabilities ', loginContext.user.capabilities);\n    setOKToRender(loginContext.loggedIn && (props.capability ? loginContext.user.capabilities.includes(props.capability) : false));\n  },[loginContext.loggedIn, props.capability])\n\n  console.log(okToRender, loginContext.loggedIn);\n\n  return (\n    okToRender && \n      <div>{props.children}</div>\n  )\n}\n\nexport default Auth;","import React, {useContext, useEffect, useState} from 'react';\n// import { ListGroup } from 'react-bootstrap';\nimport './list.scss';\nimport { AppSettingsContext } from './context/appSettingsContext.js';\n// import { setState } from 'react-jsonschema-form/lib/utils';\nimport SignUp from './signUp.js';\nimport cookie from 'react-cookies';\nimport Auth from './auth.js';\n\nconst TodoList = (props) => {\n\n  const appSettingsContext = useContext(AppSettingsContext);\n\n  const [numPageCount, setNumPageCount] = useState([]);\n  const [nextList, setNextList] = useState([]);\n  const [renderSignUp, setRenderSignUp] = useState(true);\n  \n  let page = props.list.slice(0, appSettingsContext.maxDisplay);\n\n  // console.log('props.list ', props.list);\n  \n  useEffect(()=>{\n    calcPages();\n    setNextList(page);\n  },[props.list]);\n\n  // optionally render the SignUp form\n\n  let signedUpCookie = cookie.load('signedUp');\n\n  useEffect(()=>{\n    if(signedUpCookie){\n      setRenderSignUp(false);\n    }\n  });\n\n  const calcPages = () => {\n    let pageButtonArray = [];\n    let numPages = Math.ceil((props.list.length) / appSettingsContext.maxDisplay);\n    for (let i = 1; i <= numPages; i++){\n      pageButtonArray.push(<button  key={i} name={i} onClick={nextPage}>Page {i}</button>);\n    }\n    // console.log('calcPages ', numPages);\n    setNumPageCount([pageButtonArray]);\n  }\n \n  const nextPage = (e) => {\n    let pageNumber = e.target.name;\n\n    let newPage = props.list.slice((pageNumber-1)*appSettingsContext.maxDisplay, appSettingsContext.maxDisplay + (pageNumber-1)*appSettingsContext.maxDisplay);\n\n    setNextList(newPage);\n    // console.log('page ', page);\n  }\n\n  \n  return (\n    <>\n    <div>\n      { renderSignUp === false ? '' : \n      <SignUp />\n      }\n    </div>\n    <div>\n      <ul>\n        {nextList.map(item => (\n          <li data-testid=\"list-item\"\n            className={`complete-${item.complete.toString()}`}\n            key={item._id}\n          >\n            <span id=\"listSpan\" onClick={() => props.handleComplete(item._id)}>\n              {item.text} -- {item.assignee}\n            </span>\n            <Auth capability='delete'>\n              <button id=\"deleteButton\" type=\"submit\" onClick={() => props.handleDelete(item._id)}>X</button> \n            </Auth>\n          </li>\n        ))}\n      </ul> \n      <div>\n      {numPageCount}\n      </div>\n    </div>\n    </>\n  );\n  \n}\n\nexport default TodoList;\n\n//return(\n//   <Container>\n//     <ListGroup as=\"ul\">\n//       {props.list}\n//       <ListGroup as=\"li\">\n//         <span></span>\n\n//       </ListGroup>\n//     </ListGroup>\n//   </Container>\n// )","import { useState, useContext, useEffect } from 'react';\nimport { AppSettingsContext } from '../context/appSettingsContext.js';\nimport cookie from 'react-cookies';\n\nconst axios = require('axios');\n\n// const todoAPI = 'https://api-js401.herokuapp.com/api/v1/todo'; <-- Class provided\nconst todoAPI = 'https://simonpanek-auth-api.herokuapp.com'; //<-- Auth API\n\nconst useAjax = () => {\n\n  const appSettingsContext = useContext(AppSettingsContext);\n  const [list, setList] = useState([]);\n\n  useEffect(()=>{ //THIS IS WORKING EXCEPT ON THE ORIGINAL RENDER??\n    // console.log({list});\n    list.sort((a,b) => {\n      return (a[appSettingsContext.sortMethod] > b[appSettingsContext.sortMethod])? 1 : -1;\n    })\n    setList(list);\n  });\n\n//notes from Dina\n  //let token = cookie.load('auth'); <-- to bring in the token from the cookies\n  let token = cookie.load('auth');\n\n  //const [list, setList] = useState([]);\n  //const appSettingsContext = useContext(AppSettingsContext);\n  // //todo: get the token from our login context\n  axios.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n\n  const _addItem = (item) => {\n    // console.log('ITEM @ _addItem: ', item);\n    item.due = new Date();\n    axios.post(`${todoAPI}/api/v2/todo`, {\n      assignee: item.assignee,\n      complete: false,\n      difficulty: item.difficulty,\n      text: item.text,\n      __v: 0,\n    })\n      .then(response => {\n        // console.log(response.data);\n        let savedItem = response.data;\n        // console.log({savedItem});\n        setList([...list, savedItem])\n      })\n      .catch(console.error);\n  };\n\n  const deleteItem = id => {\n    let item = list.filter(i => i._id === id)[0] || {};\n    if (item._id) {\n      // item.complete = !item.complete;\n      let url = `${todoAPI}/api/v2/todo/${id}`;\n      axios.delete(url)\n        .then(()=> _getTodoItems())\n        .catch(console.error);\n    }\n  };\n\n  const _toggleComplete = id => {\n    let item = list.filter(i => i._id === id)[0] || {};\n    if (item._id) {\n      item.complete = !item.complete;\n      let url = `${todoAPI}/api/v2/todo/${id}`;\n      axios.put(url,{\n        complete: item.complete\n        }\n      )\n        .then(response => {\n          console.log({response});\n          setList(list.map(listItem => listItem._id === item._id ? response.data : listItem));\n        })\n        .catch(console.error);\n    }\n  };\n\n  const _getTodoItems = () => {\n    axios.get(`${todoAPI}/api/v2/todo/`)\n      .then(response => {\n        let results = response.data;\n        console.log({results});\n        setList(results);\n      })\n      .catch(console.error);\n  };\n\n  return [\n    list,\n    _addItem,\n    _toggleComplete,\n    deleteItem,\n    _getTodoItems\n  ]\n\n}\n\nexport default useAjax;","import React, { useEffect, useState } from 'react';\nimport TodoForm from './form.js';\nimport TodoList from './list.js';\n// import NavBar from './nav';\nimport './todo-connected.scss';\nimport './todo.scss';\n// const axios = require('axios');\nimport useAjax from './hooks/useAjax.js';\n\n// const todoAPI = 'https://api-js401.herokuapp.com/api/v1/todo';\n\nconst ToDo = () => {\n\n  const [list, _addItem, _toggleComplete, deleteItem, _getTodoItems] = useAjax();\n\n  useEffect(_getTodoItems, []);\n\n  //// useEffect to update list count\n\n  const [count, setCount] = useState([]);\n  const countFunction = () => {\n\n    let countString= `There are ${list.filter(item => !item.complete).length} Items To Complete`\n    setCount(countString);\n  } \n  useEffect(countFunction, [list]);\n\n  const [title, setTitle] = useState(document.title);\n\n  useEffect (() => {\n\n    let titleUpdate= `Todo: ${list.filter(item => !item.complete).length} / Done: ${list.filter(item => item.complete).length}`\n    setTitle(titleUpdate);\n\n    return () => {\n      document.title = titleUpdate;\n    }\n  }) //may need `[list]` here to prevent too many renders\n\n  return (\n    <>\n      <header>\n        <h2 id=\"countH2\">\n          {count}\n          {/* There are {list.filter(item => !item.complete).length} Items To Complete */}\n        </h2>\n      </header>\n\n      <section className=\"todo\">\n\n        <div>\n          <TodoForm sendTodo={_addItem} />\n        </div>\n\n        <div>\n          <TodoList\n            list={list}\n            handleComplete={_toggleComplete}\n            handleDelete={deleteItem}\n          />\n        </div>\n      </section>\n    </>\n  );\n};\n\nexport default ToDo;\n","import React, {useContext, useEffect, useState} from 'react';\nimport { LoginContext } from '../todo/context/loginContext.js';\nimport cookie from 'react-cookies';\n\nfunction Login(props) {\n  const [userName, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n  const [returningUser, setReturningUser] = useState(false);\n\n  const loginContext = useContext(LoginContext);\n\n  let token = cookie.load('auth');\n  useEffect (() => {\n    if(token){\n      setReturningUser(true);\n    }\n  },[setReturningUser])\n\n  const handleFormSubmit = (e) => { //send username and pword to context\n    e.preventDefault();\n    loginContext.login(userName, password);\n  }\n\n  const handleNameChange = (e) => { //updates userName state on change of input field\n    setUserName(e.target.value);\n  }\n\n  const handlePasswordChange = (e) => { //updates password state on change of input field\n    setPassword(e.target.value);\n  }\n\n  console.log({userName}, {password});\n\n  return(\n    <div>\n      {returningUser === true ? '' :  \n      <form onSubmit={handleFormSubmit}>\n        <input onBlur={handleNameChange} type=\"text\" name=\"name\" placeholder=\"Name\"/>\n        <input onBlur={handlePasswordChange} type=\"password\" name=\"password\" placeholder=\"Password\"/>\n        <button>Enter</button>\n      </form>\n      }\n    </div>\n  )\n}\n\nexport default Login;","import React from 'react';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\n// import Form from 'react-bootstrap/Form';\n// import FormControl from 'react-bootstrap/FormControl';\n// import Button from 'react-bootstrap/Button';\n// import NavDropdown from 'react-bootstrap/NavDropdown';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Login from './login.js';\n\nconst NavBar = (props) => {\n\n  \n  return (\n  <Navbar bg=\"dark\" variant=\"dark\" expand=\"sm\">\n    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n    <Navbar.Collapse id=\"basic-navbar-nav\">\n      <Nav className=\"mr-auto\">\n        <Nav.Link href=\"#home\">Home</Nav.Link>\n      </Nav>\n    </Navbar.Collapse>\n    <Login />\n  </Navbar>\n  );\n  \n}\n\nexport default NavBar;","import React from 'react';\n\nimport ToDo from './components/todo/todo-connected.js';\nimport NavBar from './components/todo/nav.js';\nimport AppSettingsContext from './components/todo/context/appSettingsContext.js';\nimport LoginContext from './components/todo/context/loginContext.js';\n\n\nconst App = () => {\n  return (\n      <>\n      <LoginContext>\n          <NavBar />\n        <AppSettingsContext>\n          <ToDo />\n        </AppSettingsContext>\n      </LoginContext>\n      </>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './app.js';\n\nconst Main = () => {\n  return <App />;\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<Main />, rootElement);\n"],"sourceRoot":""}