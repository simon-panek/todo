(this["webpackJsonpdemo-context-api"]=this["webpackJsonpdemo-context-api"]||[]).push([[0],{43:function(e,t,a){e.exports=a(74)},48:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},74:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(12),o=a.n(r),l=a(6),i=a(11),u=a(7),s=a(37),m=(a(28),a(48),a(25)),d=function(e){var t=Object(n.useState)({}),a=Object(l.a)(t,2),c=a[0],r=a[1];return[function(e){r(Object(m.a)(Object(m.a)({},c),{},Object(i.a)({},e.target.name,e.target.value)))},function(t){console.log("INSIDE HandleSubmit Hook",c),t.preventDefault(),t.target.reset(),e(c),r({})},c]},f=function(e){var t,a=d((function(t){console.log("INSIDE todoItem",t),e.sendTodo(t)})),n=Object(l.a)(a,2),r=n[0],o=n[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.a,{id:"form",onSubmit:o},c.a.createElement("h3",null,"Add Item"),c.a.createElement(u.a.Group,{controlId:"formGroupEmail"},c.a.createElement(u.a.Label,null,"To Do Item"),c.a.createElement(u.a.Control,(t={"data-testid":"todoItem",type:"text",placeholder:"Item Details",name:"text"},Object(i.a)(t,"placeholder","Add To Do List Item"),Object(i.a)(t,"onChange",r),t))),c.a.createElement(u.a.Group,{controlId:"formGroupPassword"},c.a.createElement(u.a.Label,null,"Assigned To"),c.a.createElement(u.a.Control,{"data-testid":"assignee",placeholder:"Assignee Name",type:"text",name:"assignee",onChange:r})),c.a.createElement(u.a.Group,{controlId:"formBasicRange"},c.a.createElement(u.a.Control,{"data-testid":"slider",type:"range",defaultValue:"1",min:"1",max:"5",name:"difficulty",onChange:r})),c.a.createElement(s.a,{"data-testid":"submit",variant:"primary",type:"submit"},"Add Item")))},p=(a(52),a(38)),E=a(39),b=a(42),h=a(40),v=c.a.createContext(),g=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).state={maxDisplay:4,sortMethod:"text",hide:!0},n}return Object(E.a)(a,[{key:"render",value:function(){return c.a.createElement(v.Provider,{value:this.state},this.props.children)}}]),a}(c.a.Component),j=function(e){var t=Object(n.useContext)(v),a=Object(n.useState)([]),r=Object(l.a)(a,2),o=r[0],i=r[1],u=e.list.slice(0,t.maxDisplay),s=Object(n.useState)([]),m=Object(l.a)(s,2),d=m[0],f=m[1];Object(n.useEffect)((function(){p(),f(u)}),[e.list]);var p=function(){for(var a=[],n=Math.ceil(e.list.length/t.maxDisplay),r=1;r<=n;r++)a.push(c.a.createElement("button",{key:r,name:r,onClick:E},"Page ",r));i([a])},E=function(a){var n=a.target.name,c=e.list.slice((n-1)*t.maxDisplay,t.maxDisplay+(n-1)*t.maxDisplay);f(c)};return c.a.createElement(c.a.Fragment,null,c.a.createElement("ul",null,d.map((function(t){return c.a.createElement("li",{"data-testid":"list-item",className:"complete-".concat(t.complete.toString()),key:t._id},c.a.createElement("span",{id:"listSpan",onClick:function(){return e.handleComplete(t._id)}},t.text," -- ",t.assignee),c.a.createElement("button",{id:"deleteButton",type:"submit",onClick:function(){return e.handleDelete(t._id)}},"X"))}))),c.a.createElement("div",null,o))},O=(a(53),a(54),a(41)),x=a(55),y="https://api-js401.herokuapp.com/api/v1/todo",C=function(){var e=Object(n.useContext)(v),t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],r=a[1];Object(n.useEffect)((function(){c.sort((function(t,a){return t[e.sortMethod]>a[e.sortMethod]?1:-1})),r(c)}));var o=function(){x.get(y).then((function(e){var t=e.data.results;console.log({results:t}),r(t)})).catch(console.error)};return[c,function(e){e.due=new Date,x.post(y,{assignee:e.assignee,complete:!1,difficulty:e.difficulty,text:e.text,__v:0}).then((function(e){var t=e.data;r([].concat(Object(O.a)(c),[t]))})).catch(console.error)},function(e){var t=c.filter((function(t){return t._id===e}))[0]||{};if(t._id){t.complete=!t.complete;var a="".concat(y,"/").concat(e);x.put(a,{complete:t.complete}).then((function(e){console.log({response:e}),r(c.map((function(a){return a._id===t._id?e.data:a})))})).catch(console.error)}},function(e){if((c.filter((function(t){return t._id===e}))[0]||{})._id){var t="".concat(y,"/").concat(e);x.delete(t).then((function(){return o()})).catch(console.error)}},o]},D=function(){var e=C(),t=Object(l.a)(e,5),a=t[0],r=t[1],o=t[2],i=t[3],u=t[4];Object(n.useEffect)(u,[]);var s=Object(n.useState)([]),m=Object(l.a)(s,2),d=m[0],p=m[1];Object(n.useEffect)((function(){var e="There are ".concat(a.filter((function(e){return!e.complete})).length," Items To Complete");p(e)}),[a]);var E=Object(n.useState)(document.title),b=Object(l.a)(E,2),h=(b[0],b[1]);return Object(n.useEffect)((function(){var e="Todo: ".concat(a.filter((function(e){return!e.complete})).length," / Done: ").concat(a.filter((function(e){return e.complete})).length);return h(e),function(){document.title=e}})),c.a.createElement(c.a.Fragment,null,c.a.createElement("header",null,c.a.createElement("h2",{id:"countH2"},d)),c.a.createElement("section",{className:"todo"},c.a.createElement("div",null,c.a.createElement(f,{sendTodo:r})),c.a.createElement("div",null,c.a.createElement(j,{list:a,handleComplete:o,handleDelete:i}))))},I=a(22),k=a(26),S=function(e){return c.a.createElement(I.a,{bg:"dark",variant:"dark",expand:"sm"},c.a.createElement(I.a.Toggle,{"aria-controls":"basic-navbar-nav"}),c.a.createElement(I.a.Collapse,{id:"basic-navbar-nav"},c.a.createElement(k.a,{className:"mr-auto"},c.a.createElement(k.a.Link,{href:"#home"},"Home"))))},_=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(S,null),c.a.createElement(g,null,c.a.createElement(D,null)))},T=function(){return c.a.createElement(_,null)},N=document.getElementById("root");o.a.render(c.a.createElement(T,null),N)}},[[43,1,2]]]);
//# sourceMappingURL=main.8fed014a.chunk.js.map